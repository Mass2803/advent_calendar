<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Advent Calendar</title>

<style>
/* ------------------ BASE THEME ------------------ */
:root {
  --red: #c0392b;
  --green: #1e8449;
  --gold: #f1c40f;
  --white: #fff;
  --shadow: 0 8px 20px rgba(0,0,0,0.2);
  --radius: 16px;
}

/* Reset + global layout */
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: system-ui, sans-serif;
  background: radial-gradient(circle at top, #ffecd2, #fcb69f);
  min-height: 100vh;
  padding: 14px;
  display: flex;
  justify-content: center;
}

/* Page wrapper */
.page { width: 100%; max-width: 900px; }

/* ------------------ HEADER ------------------ */
.header {
  text-align: center;
  margin-bottom: 20px;
}

.header-title {
  font-size: clamp(1.8rem, 6vw, 3rem);
  font-weight: 800;
  color: var(--red);
  letter-spacing: 0.05em;
  text-shadow: 0 2px 0 #fff, 0 4px 8px rgba(0,0,0,0.2);
}

.header-sub {
  margin-top: 6px;
  opacity: 0.85;
  font-size: 0.9rem;
}

/* ------------------ CALENDAR WRAPPER ------------------ */
.calendar {
  background: rgba(255,255,255,0.9);
  padding: 16px;
  border-radius: 20px;
  box-shadow: var(--shadow);
  border: 2px solid rgba(255,255,255,0.7);
}

/* Garland decoration */
.garland {
  text-align: center;
  font-size: 1.3rem;
  user-select: none;
}

/* ------------------ GRID ------------------ */
.grid {
  display: grid;
  gap: 10px;
  margin-top: 25px;
  grid-template-columns: repeat(6, 1fr);
}

/* Responsive grid */
@media (max-width: 900px) { .grid { grid-template-columns: repeat(4,1fr); } }
@media (max-width: 600px) { .grid { grid-template-columns: repeat(3,1fr); gap: 8px; } }
@media (max-width: 420px) { .grid { grid-template-columns: repeat(2,1fr); } }

/* ------------------ DOORS ------------------ */
.door {
  position: relative;
  width: 100%;
  padding-top: 100%;
  border-radius: var(--radius);
  background: linear-gradient(145deg, #c0392b, #1e8449);
  box-shadow: var(--shadow);
  cursor: pointer;
  overflow: hidden;
  transition: transform 0.15s;
}

.door:hover { transform: scale(1.04); }
.door-locked { background: linear-gradient(145deg, #7f8c8d, #95a5a6); filter: grayscale(0.2); cursor: not-allowed; }

.inner {
  position: absolute;
  inset: 0;
  color: white;
  text-shadow: 0 1px 4px rgba(0,0,0,0.4);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.inner .num { font-size: clamp(1.2rem, 4vw, 1.8rem); font-weight: 700; }
.inner .emoji { font-size: clamp(1.4rem, 5vw, 2.2rem); margin-top: 4px; }
.inner .label { margin-top: 4px; opacity: 0.85; font-size: 0.75rem; text-align: center; }

/* ------------------ MODAL ------------------ */
.modal-bg {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: 0.25s;
}

.modal-bg.open {
  opacity: 1;
  pointer-events: auto;
}

.modal {
  background: white;
  border-radius: 18px;
  padding: 18px;
  width: 92%;
  max-width: 380px;
  box-shadow: 0 12px 32px rgba(0,0,0,0.35);
  transform: scale(0.8);
  opacity: 0;
  transition: transform 0.25s, opacity 0.25s;
}

.modal-bg.open .modal {
  transform: scale(1);
  opacity: 1;
}

.modal-close {
  position: absolute;
  top: 8px;
  right: 12px;
  font-size: 1.6rem;
  background: none;
  border: none;
  cursor: pointer;
  opacity: 0.6;
}

.modal-title {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--red);
  margin-bottom: 6px;
}

.modal-emoji {
  font-size: 2.4rem;
  text-align: center;
  margin: 8px 0;
}

.modal-text {
  font-size: 1rem;
  opacity: 0.9;
  margin-bottom: 14px;
  text-align: center;
}

.modal-link {
  display: inline-block;
  padding: 8px 14px;
  border-radius: 999px;
  background: #eafaf1;
  border: 1px solid #2ecc71;
  color: #27ae60;
  text-decoration: none;
}

/* ------------------ TOAST ------------------ */
.toast {
  position: fixed;
  bottom: 14px;
  left: 50%;
  transform: translateX(-50%) translateY(60px);
  background: rgba(0,0,0,0.85);
  color: white;
  padding: 10px 14px;
  border-radius: 999px;
  font-size: 0.8rem;
  opacity: 0;
  pointer-events: none;
  transition: 0.25s;
}

.toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* ------------------ SNOW ------------------ */
.snowflake {
  position: fixed;
  top: -10px;
  color: white;
  opacity: 0.75;
  font-size: 0.8rem;
  pointer-events: none;
  animation: fall linear infinite;
}

@keyframes fall {
  to { transform: translateY(110vh); }
}
</style>
</head>

<body>
<div class="page">

  <header class="header">
    <h1 class="header-title">Advent Calendar</h1>
    <p class="header-sub">Doors unlock on their day of December üéÑ</p>
  </header>

  <div class="calendar">
    <div class="garland">üéÑ ‚≠ê üéÅ ‚ùÑÔ∏è ‚≠ê üéÑ</div>

    <div id="grid" class="grid"></div>
  </div>
</div>

<!-- Modal -->
<div id="modalBg" class="modal-bg">
  <div class="modal">
    <button id="closeBtn" class="modal-close">√ó</button>
    <h2 id="modalTitle" class="modal-title"></h2>
    <div id="modalEmoji" class="modal-emoji"></div>
    <p id="modalText" class="modal-text"></p>
    <a id="modalLink" class="modal-link" href="#" target="_blank"></a>
  </div>
</div>

<!-- Toast -->
<div id="toast" class="toast"></div>

<script>
/* ----------- EDITABLE DAY CONTENT ----------- */
const days = [
  { day: 1, title: "Welcome!", emoji: "üéÑ", text: "Let the festive season begin!", link: "" },
  { day: 2, title: "Be Kind", emoji: "üíñ", text: "Send someone a warm message.", link: "" },
  { day: 3, title: "Treat Yourself", emoji: "üç´", text: "Have a sweet treat today!", link: "" },
  { day: 4, title: "Take a Walk", emoji: "üö∂‚Äç‚ôÇÔ∏è", text: "Look for Christmas lights!", link: "" },
  { day: 5, title: "Hot Drink", emoji: "‚òï", text: "Make your favourite warm drink.", link: "" },
  { day: 6, title: "Cosy Time", emoji: "üïØÔ∏è", text: "Light a candle and relax.", link: "" },
  { day: 7, title: "Movie Night", emoji: "üé¨", text: "Watch a festive movie!", link: "" },
  { day: 8, title: "Decorate", emoji: "üéÄ", text: "Add something festive to your room.", link: "" },
  { day: 9, title: "Smile", emoji: "üòä", text: "Give someone a compliment.", link: "" },
  { day: 10, title: "Tidy Up", emoji: "üßπ", text: "One tiny clean-up task!", link: "" },
  { day: 11, title: "Music Break", emoji: "üéµ", text: "Play your favourite song.", link: "" },
  { day: 12, title: "Breathe", emoji: "üßò‚Äç‚ôÄÔ∏è", text: "Take 5 deep breaths.", link: "" },
  { day: 13, title: "Write Something", emoji: "üìù", text: "Write one intention.", link: "" },
  { day: 14, title: "Memory Time", emoji: "üì∏", text: "Look at an old happy photo.", link: "" },
  { day: 15, title: "Snack!", emoji: "üç™", text: "Enjoy something tasty.", link: "" },
  { day: 16, title: "Stretch", emoji: "ü§∏‚Äç‚ôÇÔ∏è", text: "Do a quick stretch.", link: "" },
  { day: 17, title: "Help Out", emoji: "üéÅ", text: "Do something kind for someone.", link: "" },
  { day: 18, title: "Read a Bit", emoji: "üìö", text: "Read a few pages of anything.", link: "" },
  { day: 19, title: "Take a Photo", emoji: "ü§≥", text: "Capture a moment today.", link: "" },
  { day: 20, title: "Plan Rest", emoji: "üõå", text: "Pick a day to relax soon.", link: "" },
  { day: 21, title: "Warm Wishes", emoji: "üíå", text: "Send someone good vibes.", link: "" },
  { day: 22, title: "Joy", emoji: "‚≠ê", text: "Think of something that makes you smile.", link: "" },
  { day: 23, title: "Tradition", emoji: "üéä", text: "Think of a tradition you love.", link: "" },
  { day: 24, title: "Christmas Eve!", emoji: "üéÖ", text: "Enjoy the magic!", link: "" }
];

/* ----------- BUILD THE CALENDAR ----------- */
const grid = document.getElementById("grid");
const today = new Date();
const dayNum = today.getMonth() === 11 ? today.getDate() : 0;

days.forEach(d => {
  const unlocked = d.day <= dayNum;

  const div = document.createElement("div");
  div.className = "door" + (unlocked ? "" : " door-locked");

  div.innerHTML = `
    <div class="inner">
      <div class="num">${d.day}</div>
      <div class="emoji">${d.emoji}</div>
      <div class="label">${unlocked ? "Open" : "Locked"}</div>
    </div>
  `;

  div.addEventListener("click", () => {
    if (!unlocked) return showToast(`Opens December ${d.day}`);
    openModal(d);
  });

  grid.appendChild(div);
});

/* ----------- MODAL ----------- */
const modalBg = document.getElementById("modalBg");
const modalTitle = document.getElementById("modalTitle");
const modalEmoji = document.getElementById("modalEmoji");
const modalText = document.getElementById("modalText");
const modalLink = document.getElementById("modalLink");

function openModal(data) {
  modalTitle.textContent = `Day ${data.day}: ${data.title}`;
  modalEmoji.textContent = data.emoji;
  modalText.textContent = data.text;

  if (data.link) {
    modalLink.style.display = "inline-block";
    modalLink.href = data.link;
    modalLink.textContent = "Open link";
  } else {
    modalLink.style.display = "none";
  }

  modalBg.classList.add("open");
}

document.getElementById("closeBtn").onclick = () => modalBg.classList.remove("open");
modalBg.onclick = e => { if (e.target === modalBg) modalBg.classList.remove("open"); };
document.addEventListener("keydown", e => { if (e.key === "Escape") modalBg.classList.remove("open"); });

/* ----------- TOAST ----------- */
const toast = document.getElementById("toast");
function showToast(msg) {
  toast.textContent = msg;
  toast.classList.add("show");
  setTimeout(() => toast.classList.remove("show"), 1800);
}

/* ----------- SNOW ----------- */
function snow() {
  for (let i = 0; i < 20; i++) {
    const flake = document.createElement("div");
    flake.className = "snowflake";
    flake.textContent = Math.random() > 0.5 ? "‚ùÑÔ∏è" : "‚ùÖ";
    flake.style.left = Math.random()*100 + "vw";
    flake.style.animationDuration = (6 + Math.random()*8) + "s";
    flake.style.animationDelay = Math.random()*6 + "s";
    document.body.appendChild(flake);
  }
}
snow();
</script>

</body>
</html>
